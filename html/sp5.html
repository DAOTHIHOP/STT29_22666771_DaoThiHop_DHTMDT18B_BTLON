<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xe Đạp Điện Yadea X-Bull</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css"> 
    <script src="../js/jquery-3.7.1.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        /* Định dạng màu cho liên kết đang được chọn */
        .active-link {
          color: rgb(206, 84, 9) ; /* Đổi sang màu mà bạn muốn, ví dụ: đỏ */
        }
    </style>
</head>

<body>
<!-- HEADER -->
<nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #638889;height: 125px;">
    <div class="container-fluid">
        <div class="row w-100">
            <!-- Logo -->
            <div class="col-3 d-flex align-items-center">
                <a class="navbar-brand" href="../html/Trangchu.html">
                    <img src="../img/logo.png" alt="Logo" style="max-width: 100px; transform: scale(1.3);">
                </a>
            </div>

            <!-- Title and Slogan -->
            <div class="col-6 d-flex text-white flex-column justify-content-center text-center">
                <h1 class="display-4" style="color: #eff9d7;"><b>E-Bike Paradise</b></h1>
                <p><i>"Chinh phục mọi nẻo đường với xe đạp điện"</i></p>
            </div>

            <div class="col-3 d-flex align-items-center justify-content-end">
                <!-- Công tắc chuyển đổi sáng/tối -->
                <form action="/action_page.php" class="me-4">
                     <div class="form-check form-switch">
                         <input class="form-check-input" type="checkbox" id="mySwitch" name="darkmode" value="yes" checked>
                         <label class="form-check-label text-white" for="mySwitch">Dark Mode</label>
                     </div>
                 </form>
             
                 <!-- Cart -->
                 <div class="cart me-4">  
                     <a href="cart.html">
                         <img src="../img/cart.png" alt="Giỏ hàng" width="60px"> 
                     </a>
                 </div>
             
                 <!-- Login -->
                 <div class="login">
                     <a href="../html/Dangnhap.html" class="text-white text-decoration-none">
                         <button type="button" class="btn btn-warning btn-sm" style="padding: 10px 18px;">Đăng nhập</button>
                     </a>
                 </div>
             </div>
        </div>
    </div>
</nav>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid" style="padding-left: 170px;">
        <!-- Logo (nếu có) và các mục điều hướng -->
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item ms-5 me-5 "> <!-- Cách đều bằng me-3 -->
                <a class="nav-link " href="../html/Trangchu.html">Trang chủ</a>
            </li>
            <li class="nav-item dropdown me-5 ms-5"> <!-- Cách đều bằng me-3 -->
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" >Bộ sưu tập</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../html/Yadea.html">Thương hiệu Yadea</a></li>
                    <li><a class="dropdown-item" href="../html/Osakar.html">Thương hiệu Osakar</a></li>
                    <li><a class="dropdown-item" href="../html/DkBike.html">Thương hiệu DkBike</a></li>
                </ul>
            </li>
            
            <li class="nav-item dropdown ms-5 me-5"> <!-- Cách đều bằng me-3 -->
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">Tin tức</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../html/TinKhuyenMai.html">Tin khuyến mãi</a></li>
                    <li><a class="dropdown-item" href="../html/VideoReview.html">Video review</a></li>
                </ul>
            </li>
            <li class="nav-item ms-5"> <!-- Không cần khoảng cách thêm cho item cuối -->
                <a class="nav-link" href="../html/VeChungToi.html">Về chúng tôi</a>
            </li>
        </ul>
    
   

        <!-- Form tìm kiếm bên phải -->
        <form class="d-flex " style="width: auto;">
            <input class="form-control form-control-sm me-2" type="search" placeholder="Tìm kiếm..." aria-label="Search" style="width: 200px;">
            <button class="btn p-0" type="submit" style="width: 30px; height: 30px;">
                <img src="../img/icon tìm kiếm.png" alt="Tìm" width="30px" height="30px">
            </button>
        </form>
    </div>
</nav>
<script>
    // Lấy tất cả các liên kết trong menu điều hướng
    const navLinks = document.querySelectorAll('.nav-link');

    // Duyệt qua từng liên kết
    navLinks.forEach(link => {
        // Kiểm tra nếu URL hiện tại trùng với href của liên kết
        if (link.href === window.location.href) {
            // Thêm lớp CSS để đổi màu khi trang hiện tại được chọn
            link.classList.add('active-link');
        }

        // Thêm sự kiện khi người dùng nhấn vào một liên kết khác
        link.addEventListener('click', function() {
            // Loại bỏ lớp 'active-link' khỏi tất cả các liên kết
            navLinks.forEach(link => link.classList.remove('active-link'));

            // Thêm lớp 'active-link' vào liên kết được nhấn
            this.classList.add('active-link');
        });
    });
</script>

<!-- SẢN PHẨM -->
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            <div class="border rounded p-2">
                <div id="productCarousel1" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="../img/1.sp5.png"  id="productImage1" class="d-block w-100" alt="Xe Đạp Điện Yadea X-Bull 1" style="max-height: 500px; object-fit: cover;">
                        </div>
                        <div class="carousel-item">
                            <img src= "../img/2.sp5.jpg"  class="d-block w-100" alt="Xe Đạp Điện Yadea X-Bull 2" style="max-height: 500px; object-fit: cover;">
                        </div>
                        <div class="carousel-item">
                            <img src="../img/3.sp5.jpg"  class="d-block w-100" alt="Xe Đạp Điện Yadea X-Bull 3" style="max-height: 500px; object-fit: cover;">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel1" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#productCarousel1" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <h1 class="product-title-1" id="productName1">Xe Đạp Điện DK Samurai 4</h1>
            <h2 class="product-price text-danger fs-3">
                <span class="text-muted" style="margin-right: 8px;"><s>16.500.000 </s></span>
                <span id="productPrice1">15.800.000</span>
            </h2>
            <p class="text-success">Khuyến mãi: Giảm NGAY 1.5tr. Gọi 19001400 để biết thêm chi tiết.</p>

            <div class="mb-3">
                <label for="quantity" class="form-label"><h5><b>Số lượng:</b></h5></label>
                <input type="number" class="form-control" id="quantity" value="1" min="1" style="width: 100px;">
            </div>

            <div class="mt-3 mb-4">
                <h5><b>Chọn màu sắc:</b></h5>
                <div class="d-flex">
                    <div class="color-option rounded-circle me-2 border" style="background-color: red; width: 30px; height: 30px; cursor: pointer;"></div>
                    <div class="color-option rounded-circle me-2 border" style="background-color: blue; width: 30px; height: 30px; cursor: pointer;"></div>
                    <div class="color-option rounded-circle me-2 border" style="background-color: green; width: 30px; height: 30px; cursor: pointer;"></div>
                    <div class="color-option rounded-circle border" style="background-color: yellow; width: 30px; height: 30px; cursor: pointer;"></div>
                </div>

                <!-- Hiển thị hiệu ứng khung tròn đen khi click tới màu sắc nào đó-->
                <script>
                    $(document).ready(function() {
                        $(".color-option").click(function() {
                            $(".color-option").removeClass("border border-4 border-dark");
                            $(this).addClass("border border-4 border-dark");
                        });
                    });
                </script>

                <p class="product-description"><b>Mô Tả:</b>  Xe Đạp Điện Xbull Việt Thái là sự kết hợp hoàn hảo giữa thiết kế hiện đại và tính năng thân thiện với người dùng. Được trang bị động cơ mạnh mẽ và pin bền bỉ, xe đạp này là lựa chọn lý tưởng cho những ai yêu thích sự tiện lợi và phong cách.</p>
                <div class="btn-group d-flex flex-column">
                    <button class="btn btn-primary w-100 mb-2" id="addToCart">
                        <i class="bi bi-cart"></i> Thêm vào giỏ hàng
                    </button>
                    <button class="btn btn-danger w-100 mb-2"  id="buyNow">
                        <i class="bi bi-cart"></i> Mua ngay
                    </button>
                </div>
                <p class="mt-3"><b><i>Hỗ trợ 24/7: 19001400</i></b></p>
            </div>
        </div>
    </div>
</div>

<!-- Modal thông báo MUA NGAY -->
<div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmationModalLabel">Xác Nhận Mua Hàng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modalBodyContent"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Huỷ</button>
                <button type="button" class="btn btn-primary" id="confirmPurchase">OK</button>
            </div>
        </div>
    </div>
</div>

<!-- JS MUA NGAY + THÊM VÀO GIỎ HÀNG -->
<script>
    // Hàm để lưu sản phẩm vào giỏ hàng
    function saveToCart(productName, productPrice, productImage, productQuantity, selectedColor) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const existingProductIndex = cart.findIndex(item => item.name === productName && item.color === selectedColor);

        if (existingProductIndex > -1) {
            // Nếu sản phẩm đã có trong giỏ hàng, cập nhật số lượng
            cart[existingProductIndex].quantity += productQuantity;
        } else {
            // Nếu sản phẩm chưa có trong giỏ hàng, thêm mới
            cart.push({
                name: productName,
                price: productPrice,
                image: productImage,
                color: selectedColor,
                quantity: productQuantity
            });
        }

        localStorage.setItem('cart', JSON.stringify(cart)); // Cập nhật giỏ hàng trong localStorage
        window.location.href = 'cart.html'; // Chuyển đến trang giỏ hàng
    }

    // Xử lý "Mua ngay"
    document.getElementById('buyNow').addEventListener('click', function () {
        const productName = document.getElementById('productName1').innerText;
        const productPrice = document.getElementById('productPrice1').innerText;
        const productImage = document.getElementById('productImage1').src;
        const productQuantity = parseInt(document.getElementById('quantity').value);
        const selectedColor = document.querySelector('.color-option.border-4') ? document.querySelector('.color-option.border-4').style.backgroundColor : '';

        // Kiểm tra màu sắc
        if (!selectedColor) {
            alert('Vui lòng chọn màu sắc.');
            return;
        }

        // Kiểm tra số lượng
        if (productQuantity <= 0) {
            alert('Vui lòng chọn số lượng hợp lệ.');
            return;
        }

        // Chuyển đổi màu sắc sang tên màu để hiển thị
        const colorName = selectedColor === 'red' ? 'đỏ' :
                          selectedColor === 'blue' ? 'xanh dương' :
                          selectedColor === 'green' ? 'xanh lá' :
                          selectedColor === 'yellow' ? 'vàng' : '';

        // Tạo nội dung thông báo với HTML
        const confirmMessage = `Bạn đã chọn <strong>${productQuantity}</strong> sản phẩm <strong>${productName}</strong> với màu sắc <strong style="color: ${selectedColor};">${colorName}</strong>. Bấm OK để chuyển tới trang giỏ hàng để thanh toán.`;

        // Cập nhật nội dung modal
        document.getElementById('modalBodyContent').innerHTML = confirmMessage;

        // Hiển thị modal
        const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));
        confirmationModal.show();

        // Xử lý sự kiện xác nhận
        document.getElementById('confirmPurchase').onclick = function () {
            saveToCart(productName, productPrice, productImage, productQuantity, selectedColor);
        };
    });

    // Xử lý "Thêm vào giỏ hàng"
    document.getElementById('addToCart').addEventListener('click', function () {
        const productName = document.getElementById('productName1').innerText;
        const productPrice = document.getElementById('productPrice1').innerText;
        const productImage = document.getElementById('productImage1').src;
        const productQuantity = parseInt(document.getElementById('quantity').value);
        const selectedColor = document.querySelector('.color-option.border-4') ? document.querySelector('.color-option.border-4').style.backgroundColor : '';

        if (!selectedColor) {
            alert('Vui lòng chọn màu sắc.');
            return;
        }

        const confirmMessage = "Sản phẩm đã được thêm vào giỏ hàng. Bấm OK để tiếp tục đến trang giỏ hàng.";
        const userConfirmed = confirm(confirmMessage);

        if (userConfirmed) {
            saveToCart(productName, productPrice, productImage, productQuantity, selectedColor);
        } else {
            alert('Bạn đã huỷ việc thêm sản phẩm vào giỏ hàng.');
        }
    });
</script>

<!-- Form Phản Hồi Khách Hàng -->
<div class="container mt-5">
    <div class="row">
        <div class="col-md-10 mx-auto"> <!-- Chiếm 10 cột và tự động căn giữa -->
            <div class="card shadow p-5" style="background-color: #f7f7f7;"> 
                <h2 class="text-center mb-4" style="font-family: Arial, Helvetica, sans-serif"><b>PHẢN HỒI CỦA KHÁCH HÀNG</b></h2>
                <form id="feedbackForm">
                    <div class="mb-3">
                        <label for="name" class="form-label">Họ và Tên</label>
                        <input type="text" class="form-control" id="name" placeholder="Nhập họ và tên của bạn" required oninput="validateName()">
                        <div class="invalid-feedback" id="nameError"></div> <!-- Vùng để hiển thị lỗi -->
                    </div>
                    
                    
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Nhập địa chỉ email" required>
                        <div class="invalid-feedback" id="emailError"></div>
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">Số Điện Thoại</label>
                        <input type="tel" class="form-control" id="phone" placeholder="Nhập số điện thoại của bạn" required>
                        <div class="invalid-feedback" id="phoneError"></div>
                    </div>
                    <div class="mb-3">
                        <label for="feedback" class="form-label">Phản Hồi Của Bạn</label>
                        <textarea class="form-control" id="feedback" rows="5" placeholder="Nhập phản hồi của bạn" required></textarea>
                        <div class="invalid-feedback" id="feedbackError"></div>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="reset" class="btn btn-secondary me-md-2">Làm Mới</button>
                        <button type="submit" class="btn btn-primary">Gửi Phản Hồi</button>
                    </div>
                </form>
            </div>
        </div>
    </div> 
</div>  

<!-- JS form Phản hồi của khách hàng -->
<script src="../js/sp.js"></script>

<!-- Footer -->
<footer class="text-white mt-5" style="background-color: #638889; padding: 0; margin: 0;">
    <div class="container-fluid">
        <div class="row">
            <!-- Dòng đầu: 4 cột -->
            <div class="col-md-3 d-flex align-items-center py-3">
                <img src="../img/logo.png" alt="Logo" style="max-width: 100px; transform: scale(1.2); margin-right: 10px;"> <!-- Hình ảnh logo -->
                <span style="font-size: 1.3rem; color: hsl(78, 75%, 91%); font-style: italic; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"><b> E-Bike Paradise</b> </span> <!-- Tên cửa hàng -->
            </div>

            <!-- Cột 2: Chính sách bảo mật -->
            <div class="col-md-3 py-3">
                <h5 class="text-uppercase" style="color: hsl(78, 75%, 91%);"><b>Chính sách bảo mật</b></h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white">Chính sách bảo mật</a></li>
                    <li class="mb-2"><a href="#" class="text-white">Chính sách đổi trả hàng</a></li>
                    <li><a href="#" class="text-white">Chính sách đưa đón và giao hàng</a></li>
                </ul>
            </div>

            <!-- Cột 3: Liên hệ với chúng tôi -->
            <div class="col-md-3 py-3">
                <h5 class="text-uppercase" style="color: hsl(78, 75%, 91%);"><b>Liên hệ với chúng tôi</b></h5>
                <ul class="list-unstyled">
                    <li class="mb-2">Địa chỉ: 123 Đường ABC, Quận Gò Vấp, TP.HCM</li>
                    <li class="mb-2">Hotline: 0123 456 789</li>
                    <li>Email: abc@gmail.com</li>
                </ul>
            </div>

            <!-- Cột 4: Mạng xã hội -->
            <div class="col-md-3 py-3">
                <h5 class="text-uppercase" style="color: hsl(78, 75%, 91%);"><b>Mạng xã hội</b></h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white"><i class="bi bi-facebook"></i> Facebook</a></li>
                    <li class="mb-2"><a href="#" class="text-white"><i class="bi bi-instagram"></i> Instagram</a></li>
                    <li><a href="#" class="text-white"><i class="bi bi-tiktok"></i> TikTok</a></li>
                </ul>
            </div>
        </div>

        <!-- Dòng thứ hai: Thông tin bản quyền -->
        <div class="text-center py-2 " style="background-color: #4f6d6e;" > <!-- Màu xám nhạt -->
            <p class="mb-0" style="margin-bottom: 0;">&copy; 2024 E-Bike Paradise. All rights reserved.</p>
        </div>
    </div>
</footer>

</body>
</html>
