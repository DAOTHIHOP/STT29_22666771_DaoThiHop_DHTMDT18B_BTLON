<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xác nhận thanh toán</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css"> 
    <script src="../js/jquery-3.7.1.js"></script>
    <script src="../js/bootstrap.min.js"></script>
   <link rel="stylesheet" href="../css/style.css">
   <style>
    /* Định dạng màu cho liên kết đang được chọn */
    .active-link {
      color: rgb(206, 84, 9) ; /* Đổi sang màu mà bạn muốn, ví dụ: đỏ */
    }
</style>
</head>

<body>
    <!-- HEADER -->
<nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #638889;height: 125px;">
    <div class="container-fluid">
        <div class="row w-100">
            <!-- Logo -->
            <div class="col-3 d-flex align-items-center">
                <a class="navbar-brand" href="../html/Trangchu.html">
                    <img src="../img/logo.png" alt="Logo" style="max-width: 100px; transform: scale(1.3);">
                </a>
            </div>

            <!-- Title and Slogan -->
            <div class="col-6 d-flex text-white flex-column justify-content-center text-center">
                <h1 class="display-4" style="color: #eff9d7;"><b>E-Bike Paradise</b></h1>
                <p><i>"Chinh phục mọi nẻo đường với xe đạp điện"</i></p>
            </div>

             <!-- Cart và Login -->
             <div class="col-3 d-flex align-items-center justify-content-around">
                <!-- Add sản phẩm -->
                <div class="add me-5">
                    <a href="Bosuutap.html">
                        <img src="../img/add.png" alt="add" width="55px"/>
                    </a>
                </div>
            
                <!-- Cart -->
                <div class="cart me-5">  
                    <a href="cart.html">
                        <img src="../img/cart.png" alt="Giỏ hàng" width="65px"> 
                    </a>
                </div>
            
                <!-- Login -->
                <div class="acc me-3">
                    <a href="Trangchu.html"
                      ><img src="../img/home.png" alt="acc" width="55px"
                    /></a>
                  </div>
            </div>
            
        </div>
       
    </div>
</nav>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid" style="padding-left: 170px;">
        <!-- Logo (nếu có) và các mục điều hướng -->
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item ms-5 me-5 "> <!-- Cách đều bằng me-3 -->
                <a class="nav-link " href="../html/Trangchu.html">Trang chủ</a>
            </li>
            <li class="nav-item dropdown me-5 ms-5"> <!-- Cách đều bằng me-3 -->
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" >Bộ sưu tập</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../html/Yadea.html">Thương hiệu Yadea</a></li>
                    <li><a class="dropdown-item" href="../html/Osakar.html">Thương hiệu Osakar</a></li>
                    <li><a class="dropdown-item" href="../html/DkBike.html">Thương hiệu DkBike</a></li>
                </ul>
            </li>
            
            <li class="nav-item dropdown ms-5 me-5"> <!-- Cách đều bằng me-3 -->
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">Tin tức</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../html/TinKhuyenMai.html">Tin khuyến mãi</a></li>
                    <li><a class="dropdown-item" href="../html/VideoReview.html">Video review</a></li>
                </ul>
            </li>
            <li class="nav-item ms-5"> <!-- Không cần khoảng cách thêm cho item cuối -->
                <a class="nav-link" href="../html/VeChungToi.html">Về chúng tôi</a>
            </li>
        </ul>
    
   

        <!-- Form tìm kiếm bên phải -->
        <form class="d-flex " style="width: auto;">
            <input class="form-control form-control-sm me-2" type="search" placeholder="Tìm kiếm..." aria-label="Search" style="width: 200px;">
            <button class="btn p-0" type="submit" style="width: 30px; height: 30px;">
                <img src="../img/icon tìm kiếm.png" alt="Tìm" width="30px" height="30px">
            </button>
        </form>
    </div>
</nav>
<script>
    // Lấy tất cả các liên kết trong menu điều hướng
    const navLinks = document.querySelectorAll('.nav-link');

    // Duyệt qua từng liên kết
    navLinks.forEach(link => {
        // Kiểm tra nếu URL hiện tại trùng với href của liên kết
        if (link.href === window.location.href) {
            // Thêm lớp CSS để đổi màu khi trang hiện tại được chọn
            link.classList.add('active-link');
        }

        // Thêm sự kiện khi người dùng nhấn vào một liên kết khác
        link.addEventListener('click', function() {
            // Loại bỏ lớp 'active-link' khỏi tất cả các liên kết
            navLinks.forEach(link => link.classList.remove('active-link'));

            // Thêm lớp 'active-link' vào liên kết được nhấn
            this.classList.add('active-link');
        });
    });
</script>
    <!-- SẢN PHẨM -->
    <div class="container mt-4">
        <h1 style="font-weight: bold;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;text-align: center; font-size: 45px;background-color: rgb(222, 221, 217);">THÔNG TIN KIỂM TRA ĐƠN HÀNG</h1>

        <!-- Thông tin người thanh toán -->
        <h4 class="mt-4" style="font-weight: bold; color: rgb(16, 16, 140);">Thông tin người nhận:</h4>
        <ul>
            <li>Họ và tên: <span id="customerName"></span></li>
            <li>Email: <span id="customerEmail"></span></li>
            <li>Số điện thoại: <span id="customerPhone"></span></li>
            <li>Địa chỉ: <span id="customerAddress"></span></li>
            <li>Phương thức thanh toán: <span id="customerpaymentMethod"></span></li>
        </ul>

        <!-- Bảng hiển thị chi tiết sản phẩm đã mua -->
        <h4 class="mt-4" style="font-weight: bold; color: rgb(16, 16, 140);">Chi tiết sản phẩm:</h4>
        <table class="table table-striped mt-3">
            <thead>
                <tr>
                    <th>Ảnh sản phẩm</th>
                    <th>Tên sản phẩm</th>
                    <th>Giá</th>
                    <th>Số lượng</th>
                    <th>Màu sắc</th>
                </tr>
            </thead>
            <tbody id="orderDetails"></tbody>
        </table>

        <!-- Tổng tiền -->
        <h3 class="mt-4"><b>Tổng tiền:</b> <span id="totalAmount">0</span></h3>

        <!-- Nút thanh toán và hủy -->
        <div class="mt-4">
            <button class="btn btn-success me-3" id="confirmPayment">Thanh toán</button>
            <button class="btn btn-danger" id="cancelPayment">Hủy</button>
        </div>
    </div>

    
    <script>
        function loadOrderDetails() {
            // Đối tượng chứa các phương thức thanh toán và bản dịch tiếng Việt
            const paymentMethods = {
                'cash': 'Tiền mặt',
                'bank': 'Chuyển khoản ngân hàng',
                'momo': 'Ví MoMo',
                'zalopay': 'Ví ZaloPay'
            };
    
            // Lấy thông tin khách hàng từ localStorage
            const customerInfo = JSON.parse(localStorage.getItem('customerInfo'));
            if (customerInfo) {
                document.getElementById('customerName').innerText = customerInfo.fullName;
                document.getElementById('customerEmail').innerText = customerInfo.email;
                document.getElementById('customerPhone').innerText = customerInfo.phone;
                
                // Chuyển đổi phương thức thanh toán sang tiếng Việt
                const paymentMethodVi = paymentMethods[customerInfo.paymentMethod] || customerInfo.paymentMethod;
                document.getElementById('customerpaymentMethod').innerText = paymentMethodVi;
                
                document.getElementById('customerAddress').innerText = customerInfo.address;
            }
    
            // Lấy dữ liệu giỏ hàng từ localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const orderDetailsTable = document.getElementById('orderDetails');
            let total = 0;
    
            // Hiển thị thông tin sản phẩm trong giỏ hàng
            cart.forEach(function(item) {
                const row = `
                    <tr>
                        <td><img src="${item.image}" alt="${item.name}" style="height: 100px; object-fit: contain;"></td>
                        <td>${item.name}</td>
                        <td>${item.price} VND</td>
                        <td>${item.quantity}</td>
                        <td>${item.color}</td>
                    </tr>
                `;
                orderDetailsTable.innerHTML += row;
                total += parseInt(item.price.replace(/\./g, '')) * item.quantity;
            });
    
            // Hiển thị tổng tiền
            document.getElementById('totalAmount').innerText = total.toLocaleString() + ' VND';
        }
    
        // Xử lý khi trang tải
        window.onload = loadOrderDetails;
    
        // Xử lý thanh toán
        document.getElementById('confirmPayment').addEventListener('click', function() {
            alert('Thanh toán thành công! Cảm ơn bạn đã mua hàng.');
            // Xóa giỏ hàng sau khi thanh toán
            localStorage.removeItem('cart');
            localStorage.removeItem('customerInfo');
            // Chuyển đến trang BoSuuTap.html
            window.location.href = 'Bosuutap.html';
        });
    
        // Xử lý khi bấm hủy
        document.getElementById('cancelPayment').addEventListener('click', function() {
            // Quay lại trang Cart1.html
            window.history.back();  // Hoặc window.location.href = 'Cart1.html';
        });
    </script>
    

    <!-- Footer -->
<footer class="text-white mt-5" style="background-color: #638889; padding: 0; margin: 0;">
    <div class="container-fluid">
        <div class="row">
            <!-- Dòng đầu: 4 cột -->
            <div class="col-md-3 d-flex align-items-center py-3">
                <img src="../img/logo.png" alt="Logo" style="max-width: 100px; transform: scale(1.2); margin-right: 10px;"> <!-- Hình ảnh logo -->
                <span style="font-size: 1.3rem; color: hsl(78, 75%, 91%); font-style: italic; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"><b> E-Bike Paradise</b> </span> <!-- Tên cửa hàng -->
            </div>

            <!-- Cột 2: Chính sách bảo mật -->
            <div class="col-md-3 py-3">
                <h5 class="text-uppercase" style="color: hsl(78, 75%, 91%);"><b>Chính sách bảo mật</b></h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white">Chính sách bảo mật</a></li>
                    <li class="mb-2"><a href="#" class="text-white">Chính sách đổi trả hàng</a></li>
                    <li><a href="#" class="text-white">Chính sách đưa đón và giao hàng</a></li>
                </ul>
            </div>

            <!-- Cột 3: Liên hệ với chúng tôi -->
            <div class="col-md-3 py-3">
                <h5 class="text-uppercase" style="color: hsl(78, 75%, 91%);"><b>Liên hệ với chúng tôi</b></h5>
                <ul class="list-unstyled">
                    <li class="mb-2">Địa chỉ: 123 Đường ABC, Quận Gò Vấp, TP.HCM</li>
                    <li class="mb-2">Hotline: 0123 456 789</li>
                    <li>Email: abc@gmail.com</li>
                </ul>
            </div>

            <!-- Cột 4: Mạng xã hội -->
            <div class="col-md-3 py-3">
                <h5 class="text-uppercase" style="color: hsl(78, 75%, 91%);"><b>Mạng xã hội</b></h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white"><i class="bi bi-facebook"></i> Facebook</a></li>
                    <li class="mb-2"><a href="#" class="text-white"><i class="bi bi-instagram"></i> Instagram</a></li>
                    <li><a href="#" class="text-white"><i class="bi bi-tiktok"></i> TikTok</a></li>
                </ul>
            </div>
        </div>

        <!-- Dòng thứ hai: Thông tin bản quyền -->
        <div class="text-center py-2 " style="background-color: #4f6d6e;" > <!-- Màu xám nhạt -->
            <p class="mb-0" style="margin-bottom: 0;">&copy; 2024 E-Bike Paradise. All rights reserved.</p>
        </div>
    </div>
</footer>

</body>
</html>
